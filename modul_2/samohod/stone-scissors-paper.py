# –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Ü–µ–ª–æ–≥–æ —á–∏—Å–ª–∞
from random import randint

# —Å–æ–∑–¥–∞—ë–º —Å–ª–æ–≤–∞—Ä—å –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–Ω–∞—á–∫–æ–≤
menu = {1: "üóø", 2: "‚úÇÔ∏è", 3: "üìÑ", 4: "–≤—ã—Ö–æ–¥"}

# –∑–∞–≤–æ–¥–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å—á–µ—Ç–∞
choice = 0
user_score = 0
computer_score = 0

# –æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –≤—ã–≤–æ–¥–∞ –º–µ–Ω—é
def show_menu():
    print("–í—ã–±–µ—Ä–∏ –¥–µ–π—Å—Ç–≤–∏–µ, –≤–≤–µ–¥—è —á–∏—Å–ª–æ –∏–∑ —Å–ø–∏—Å–∫–∞ –Ω–∏–∂–µ")
    # –ø—Ä–æ–±–µ–≥–∞–µ–º –ø–æ —á–∏—Å–ª–æ–≤—ã–º –∫–ª—é—á–∞–º —Å–ª–æ–≤–∞—Ä—è
    for choice in range(1, 5):
        # –≤—ã–≤–æ–¥–∏–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —á–∏—Å–ª–∞ –∑–Ω–∞—á–∫—É
        print(f"{choice}: {menu[choice]}")

# –æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–±–µ–¥–∏—Ç–µ–ª—è —Ä–∞—É–Ω–¥–∞
# –Ω–∞ –≤—Ö–æ–¥ –ø–µ—Ä–µ–¥–∞–µ–º –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∫–æ–º–ø–∞
# –Ω–∞ –≤—ã—Ö–æ–¥–µ —Å—Ç—Ä–æ–∫–∞ "–∫—Ç–æ –ø–æ–±–µ–¥–∏—Ç–µ–ª—å"
def who_wins(user, computer):
    # –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –≤—ã–±–æ—Ä - –Ω–∏—á—å—è –≤ —Ä–∞—É–Ω–¥–µ
    if user == computer:
        return "–Ω–∏–∫—Ç–æ"
    # –Ω–∞–±–æ—Ä —É—Å–ª–æ–≤–∏–π, –ø—Ä–∏ –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–±–µ–∂–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    elif (user == 1 and computer == 2) or (user == 2 and computer == 3) or (user == 3 and computer == 1):
        return "—Ç—ã"
    # –ª—é–±–∞—è –¥—Ä—É–≥–∞—è —Å–∏—Ç—É–∞—Ü–∏—è - –ø–æ–±–µ–¥–∞ –∫–æ–º–ø–∞
    else:
        return "–∫–æ–º–ø"

# –æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —Å–ª–æ–≤–µ—Å–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –∏—Å—Ö–æ–¥–∞
# –ø–µ—Ä–µ–¥–∞–µ–º –≤ –Ω–µ–µ —Ç–µ–∫—É—â–∏–π —Å—á–µ—Ç
# –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–ª–æ–≤–µ—Å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ, –≤ —á—å—é –ø–æ–ª—å–∑—É —Å–µ–π—á–∞—Å —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –∏–≥—Ä–∞
def score_characteristic(user, computer):
    if user > computer:
        return " –≤ —Ç–≤–æ—é –ø–æ–ª—å–∑—É"
    elif computer > user:
        return " –≤ –ø–æ–ª—å–∑—É –∫–æ–º–ø–∞"
    else:
        return ". –ü–æ–∫–∞ –Ω–∏—á—å—è"

# –æ–ø—Ä–µ–¥–µ–ª–∏–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞
def input_and_check(current_choice):
    # –ø—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞ (–∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é choice –º—ã –ø–æ–ª–æ–∂–∏–ª–∏ 0)
    while not (1 <= current_choice <= 4):
        # –≤—ã–∑—ã–≤–∞–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ–Ω—é
        show_menu()
        # —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥ –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
        user_input = input()

        # –ø—Ä–æ–≤–µ—Ä—è–µ–º, –ª–µ–∂–∏—Ç –ª–∏ –≤–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Ü–∏—Ñ—Ä–∞ –∏ –ø–æ–ø–∞–¥–∞–µ—Ç –ª–∏ –æ–Ω–∞ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω
        if user_input.isdigit() and 1 <= int(user_input) <= 4:
            # –µ—Å–ª–∏ –¥–∞, –ø–µ—Ä–µ–ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º choice –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ,
            # –ø—Ä–∏–≤–µ–¥—è –µ–≥–æ –∫ —Ü–µ–ª–æ–º—É —á–∏—Å–ª—É (input –≤–µ—Ä–Ω—É–ª —Å—Ç—Ä–æ–∫—É!)
            current_choice = int(user_input)

    return current_choice

# –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª, –∫–∞–∂–¥–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è - –Ω–æ–≤—ã–π —Ä–∞—É–Ω–¥
# –ø—Ä–µ—Ä–≤–µ–º –µ–≥–æ, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–µ—Ä–µ—Ç "–≤—ã—Ö–æ–¥"
while True:
    # –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ–º –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤—ã–±–æ—Ä–∞ –µ–≥–æ –Ω–æ–≤—ã–π –≤—ã–±–æ—Ä
    choice = input_and_check(choice)
    # –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª –≤—ã—Ö–æ–¥, –ø—Ä–æ—â–∞–µ–º—Å—è, –≤—ã—Ö–æ–¥–∏–º –∏–∑ —Ü–∏–∫–ª–∞
    if choice == 4:
        print("–ë—ã–ª–æ –∫—Ä—É—Ç–æ!")
        break

    # —Å–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –æ—Ç 1 –¥–æ 3 –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –±—É–¥–µ—Ç –µ–≥–æ —Ö–æ–¥–æ–º
    computer_choice = randint(1, 3)
    # –ø–µ—Ä–µ–¥–∞–µ–º –≤ —Å–≤–æ—é —Ñ—É–Ω–∫—Ü–∏—é –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∫–æ–º–ø–∞, —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    winner = who_wins(choice, computer_choice)

    # –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, –∫—Ç–æ –≤—ã–∏–≥—Ä–∞–ª, —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç
    if winner == "—Ç—ã":
        user_score += 1
    elif winner == "–∫–æ–º–ø":
        computer_score +=1

    # –≤—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∏—Å—Ö–æ–¥–æ–º —Ç–µ–∫—É—â–µ–≥–æ —Ä–∞—É–Ω–¥–∞ –∏ –æ–±—â–∏–º —Å—á—ë—Ç–æ–º
    print(f"–¢—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—à—å: {menu[choice]}, –∫–æ–º–ø –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç {menu[computer_choice]}. \n–ü–æ–±–µ–¥–∏—Ç–µ–ª—å —Ä–∞—É–Ω–¥–∞: {winner}. –°—á—ë—Ç {user_score}:{computer_score}{score_characteristic(user_score, computer_score)}.")

    # –æ–±–Ω—É–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤—ã–±–æ—Ä, —á—Ç–æ–±—ã –∑–∞–Ω–æ–≤–æ –µ–≥–æ –∑–∞–ø—Ä–æ—Å–∏—Ç—å –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
    choice = 0
